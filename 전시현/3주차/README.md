# 3κ°• - μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄2 - κ°μ²΄ μ§€ν–¥ μ›λ¦¬ μ μ©

# π“”Β  μƒλ΅μ΄ ν• μΈ μ •μ±… κ°λ°

---

μ—­ν• κ³Ό κµ¬ν„μ„ λ¶„λ¦¬ν•΄ μμ λ΅­κ² κµ¬ν„ κ°μ²΄λ¥Ό μ΅°λ¦½ν•  μ μλ„λ΅ ν•¨ β‡’ λ‚μ¤‘μ— λ³€κ²½ μ‚¬ν•­μ΄ μλ”λΌλ„ κ·Έ λ¶€λ¶„λ§ λ°”κΎΈλ©΄ λ¨

μ—­ν• κ³Ό κµ¬ν„ λ¶„λ¦¬ : OK

λ‹¤ν•μ„± ν™μ©, μΈν„°νμ΄μ¤μ™€ κµ¬ν„ κ°μ²΄ λ¶„λ¦¬ : OK

OCP, DIPκ°™μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¶©μ‹¤ν μ¤€μ : X

<aside>
π’΅ β‡’ OrderServiceImplλ” μ¶”μƒ(μΈν„°νμ΄μ¤) λΏλ§ μ•„λ‹λΌ κµ¬μ²΄(κµ¬ν„) ν΄λμ¤μ—λ„ μμ΅΄ν•κ³  μλ‹¤

- μΈν„°νμ΄μ¤ μμ΅΄ : DiscountPolicy
- κµ¬μ²΄(κµ¬ν„) ν΄λμ¤ : FixDiscountPolicy, RateDiscountPolicy

private DiscountPolicy discountPolicy = new FixDiscountPolicy();μ„

private DiscountPolicy discountPolicy = new RateDiscountPolicy();μΌλ΅ λ°”κΎΈμ–΄μ§€λ‹ ν΄λΌμ΄μ–ΈνΈμ— μ½”λ“μ— μν–¥ β‡’ OCP μ„λ°

</aside>

ν•΄κ²° λ°©λ²•

- DIPλ¥Ό μ„λ°ν•μ§€ μ•λ„λ΅ μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μμ΅΄ κ΄€κ³„λ¥Ό λ³€κ²½

# π“”Β  AppConfig

---

μ• ν”λ¦¬μΌ€μ΄μ…μ μ „μ²΄ λ™μ‘ λ°©μ‹μ„ κµ¬μ„±ν•κΈ° μ„ν•΄ κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ±…μ„μ„ κ°€μ§€λ” λ³„λ„ μ„¤μ • ν΄λμ¤

AppConfig classμ—μ„

```jsx
public MemberService memberService(){
	return new MemberServiceImpl(new MemoryMemberRepository());
}
```

μƒμ„±μ μ£Όμ…μ„ ν•΄μ£Όκ² λλ©΄ DIPλ¥Ό μ„λ°ν•μ§€ μ•μ„ μ μμ

μμ • μ΄ν›„

- MemoryServiceImplμ€ MemoryMemberRepositoryλ¥Ό μμ΅΄ν•μ§€ μ•κ³ , MemberRepository μΈν„°νμ΄μ¤λ¥Ό μμ΅΄ν•λ‹¤
- MemberServiceImpl μ…μ¥μ—μ„ μƒμ„±μλ¥Ό ν†µν•΄ μ–΄λ–¤ κµ¬ν„ κ°μ²΄κ°€ μ£Όμ…λ μ§€λ” μ• μ μ—†λ‹¤
- MemberServiceImplμ μƒμ„±μλ¥Ό ν†µν•΄μ„ μ–΄λ–¤ κµ¬ν„ κ°μ²΄λ¥Ό μ£Όμ…ν• μ§€λ” μ¤μ§ μ™Έλ¶€(AppConfig)μ—μ„ κ²°μ •λλ‹¤

κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬ : κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ—­ν• κ³Ό μ‹¤ν–‰ν•λ” μ—­ν• μ΄ λ…ν™•ν λ¶„λ¦¬λ¨

ν΄λΌμ΄μ–ΈνΈμΈ memberServiceImpl μ…μ¥μ—μ„ λ³΄λ©΄ μμ΅΄κ΄€κ³„λ¥Ό λ§μΉ μ™Έλ¶€μ—μ„ μ£Όμ…ν•΄μ£Όλ” κ²ƒ κ°™λ‹¤κ³  ν•΄μ„ DI(Dependency injection) μμ΅΄κ΄€κ³„ μ£Όμ…/μμ΅΄μ„± μ£Όμ…μ΄λΌκ³  ν•¨

# π“”Β  IoC, DI, container μ„¤λ…

---

IoC : λ‚΄κ°€ νΈμ¶ν•λ”κ² μ•„λ‹ ν”„λ μ„μ›ν¬ λ“±μ΄ λ€μ‹  νΈμ¶ ν•΄μ£Όλ” κ²ƒ

- AppConfigκ°€ λ“±μ¥ν• μ΄ν›„μ— κµ¬ν„ κ°μ²΄λ” μμ‹ μ λ΅μ§μ„ μ‹¤ν–‰ν•λ” μ—­ν• λ§ λ‹΄λ‹Ήν•λ‹¤. ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ€ μ΄μ  AppConfigκ°€ κ°€μ Έκ°

ν”„λ μ„μ›ν¬ vs λΌμ΄λΈλ¬λ¦¬

ν”„λ μ„μ›ν¬ : λ‚΄κ°€ μ‘μ„±ν• μ½”λ“λ¥Ό μ μ–΄ν•κ³ , λ€μ‹  μ‹¤ν–‰ν•λ©΄ ν”„λ μ„μ›ν¬ (JUnit)

λΌμ΄λΈλ¬λ¦¬ : λ‚΄κ°€ μ‘μ„±ν• μ½”λ“κ°€ μ§μ ‘ μ μ–΄μ νλ¦„μ„ λ‹΄λ‹Ή

DI(μμ΅΄κ΄€κ³„ μ£Όμ…)

- μ •μ μΈ ν΄λμ¤ μμ΅΄ κ΄€κ³„μ™€, μ‹¤ν–‰ μ‹μ μ— κ²°μ •λλ” λ™μ μΈ κ°μ²΄(μΈμ¤ν„΄μ¤) μμ΅΄ κ΄€κ³„ λ‘μ„ λ¶„λ¦¬ν•΄μ„ μƒκ°ν•΄μ•Ό ν•¨

μμ΅΄μ„± κ΄€κ³„ μ£Όμ… : μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ μ‹μ (λ°νƒ€μ„)μ— μ™Έλ¶€μ—μ„ μ‹¤μ  κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•΄μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ μ‹¤μ  μμ΅΄κ΄€κ³„κ°€ μ—°κ²° λλ” κ²ƒ

- κ°μ²΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•κ³ , κ·Έ μ°Έμ΅°κ°’μ„ μ €λ‹¬ν•΄μ„ μ—°κ²°λ¨
- μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ… μΈμ¤ν„΄μ¤λ¥Ό λ³€κ²½ν•  μ μλ‹¤
- μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ‚¬μ©ν•λ©΄ μ •μ μΈ ν΄λμ¤ μμ΅΄ κ΄€κ³„λ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , λ™μ μΈ κ°μ²΄ μΈμ¤ν„΄μ¤ μμ΅΄κ΄€κ³„λ¥Ό μ‰½κ² λ³€κ²½ κ°€λ¥

IoC μ»¨ν…μ΄λ„, DI μ»¨ν…μ΄λ„

- AppConfigμ²λΌ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ©΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•΄ μ£Όλ” κ²ƒμ„ IoC μ»¨ν…μ΄λ„ or ***DI μ»¨ν…μ΄λ„***(μμ΅΄κ΄€κ³„ μ£Όμ…μ„ μ΄μ μ„ λ§μ¶”μ–΄ μ£Όλ΅ DIμ»¨ν…μ΄λ„λΌκ³  λ¶€λ¦„)λΌκ³  ν•¨